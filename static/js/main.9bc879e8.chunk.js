(this["webpackJsonpcliente-web"]=this["webpackJsonpcliente-web"]||[]).push([[0],{46:function(e,t,r){},47:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var a=r(2),c=r.n(a),n=r(26),s=r.n(n),o=(r(46),r(47),r(8)),i=r(7),l=r(5),d=r.n(l),u=r(6),b=r(4),j=r(38),x=r.n(j).a.create({baseURL:"https://api-modular3.herokuapp.com/"}),m=function(e){e?x.defaults.headers.common["x-access-token"]=e:delete x.defaults.headers.common["x-access-token"]},p="OBTENER_USUARIO",f="LOGIN_EXITOSO",O="LOGIN_ERROR",h="ACTUALZIAR_CUENTA",g="REGISTRO_ERROR",v="REGISTRO_EXITOSO",y="CERRAR_SESION",N="MOSTRAR_ALERTA",w="OCULTAR_ALERTA",C="ABRIR_CARD",_="OBTENER_PRODUCTOS",k="PRODUCTO_SELECCIONADO",E="PRODUCTOS_LISTA",S="OBTENER_PRODUCTOS_CATEGORIAS",A="PRODUCTOS_ERROR",I="OBTENER_LISTAS",R="CREAR_LISTAS",L="LISTA_ACTUAL",T="ELIMINAR_LISTA",D="QUITAR_PRODUCTO",P="LISTA_ERROR",B="ADD_PRODUCTO_LISTA",U="ATUALIZAR_CANTIDAD_PRODUCTO",M="ACTUALIZAR_LISTAS",z="OPEN_ELEMENT",F="CLOSE_ELEMENT",G="CREAR_ELEMENTO",J="ELIMINAR_ELEMENTO",V="EDITAR_ELEMENTO",q="OPTENER_DIRECCIONES",X="ELIMINAR_DIRECCIONES",Z="ACTUALIZAR_DIRECCION",H="CREAR_DIRECCION",Q="SELECCIONAR_DIRECCION",K=Object(a.createContext)(),W=r(3),Y=function(e,t){switch(t.type){case v:case f:return localStorage.setItem("token",t.payload.token),Object(W.a)(Object(W.a)({},e),{},{autenticado:!0,mensaje:null,token:t.payload.token});case p:return localStorage.setItem("usuario",JSON.stringify(t.payload.usuario)),Object(W.a)(Object(W.a)({},e),{},{autenticado:!0,usuario:t.payload.usuario});case h:return localStorage.setItem("usuario",JSON.stringify(t.payload)),Object(W.a)(Object(W.a)({},e),{},{autenticado:!0,usuario:t.payload});case y:case g:case O:return localStorage.removeItem("token"),Object(W.a)(Object(W.a)({},e),{},{token:null,usuario:null,autenticado:null,mensaje:t.payload});default:return e}},$=r(1),ee=function(e){var t={token:localStorage.getItem("token"),autenticado:null,usuario:null,mensaje:null},r=Object(a.useReducer)(Y,t),c=Object(b.a)(r,2),n=c[0],s=c[1],o=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("api/auth/signup",t);case 3:r=e.sent,s({type:v,payload:r.data}),i(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),s({type:g});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("token"))&&m(t),e.prev=2,e.next=5,x.get("api/auth");case 5:r=e.sent,s({type:p,payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s({type:O});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("api/auth/signin",t);case 3:r=e.sent,console.log("daaaaa"),s({type:f,payload:r.data}),i(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),s({type:O,payload:{msg:"error al iniciar sesion",categoria:"alerta-error"}});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.put("api/users/".concat(t),r);case 3:a=e.sent,s({type:h,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("api/users/".concat(t));case 3:if(r=e.sent,console.log(r),200!==r.status){e.next=14;break}localStorage.removeItem("usuario"),localStorage.removeItem("direccion_actual"),localStorage.removeItem("lista_actual"),localStorage.removeItem("token"),window.location.replace("http://localhost:3000/"),console.log("cuenta eliminada"),e.next=15;break;case 14:return e.abrupt("return");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)(K.Provider,{value:{token:n.token,autenticado:n.autenticado,usuario:n.usuario,mensaje:n.mensaje,registrarUsuario:o,iniciarSesion:l,usuarioAutenticado:i,cerrarSesion:function(){s({type:y})},actualizarCuentaDeUsuario:j,eliminarCuentadeUsuario:N},children:[" ",e.children]})},te=Object(a.createContext)(),re=function(e,t){switch(t.type){case N:return{alerta:t.payload};case w:return{alerta:null};case C:return{card:t.payload};default:return e}},ae=function(e){var t=Object(a.useReducer)(re,{alerta:null,card:!1}),r=Object(b.a)(t,2),c=r[0],n=r[1];return Object($.jsx)(te.Provider,{value:{alerta:c.alerta,card:c.card,mostrarAlerta:function(e){n({type:N,payload:{msg:e}}),setTimeout((function(){n({type:w})}),3e3)},mostrarElemento:function(e){n({type:N,payload:{msg:e}}),setTimeout((function(){n({type:w})}),1e4)},abrirCard:function(){n({type:C,payload:!c.card})}},children:e.children})},ce=function(e,t){switch(t.type){case S:case _:return Object(W.a)(Object(W.a)({},e),{},{productos:t.payload});case E:return Object(W.a)(Object(W.a)({},e),{},{productoslista:t.payload});case k:var r=e.productos.filter((function(e){return e._id===t.payload}));return Object(W.a)(Object(W.a)({},e),{},{productoseleccionado:r[0]});default:return e}},ne=Object(a.createContext)(),se=function(e){var t=Object(a.useReducer)(ce,{productos:[],productoslista:[],productoseleccionado:null}),r=Object(b.a)(t,2),c=r[0],n=r[1],s=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("api/productos");case 3:t=e.sent,n({type:_,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:A});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("api/productos/"+t);case 3:r=e.sent,n({type:S,payload:r.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:A});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:r=e.sent,n({type:k,payload:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("api/listas/".concat(t));case 3:r=e.sent,n({type:E,payload:r.data.productos}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(ne.Provider,{value:{productos:c.productos,productoseleccionado:c.productoseleccionado,productoslista:c.productoslista,obtenerProductos:s,obtenerporCategoria:o,obtenerProductoSeleccionado:i,obtenerProductosDeLista:l},children:e.children})},oe=r(14),ie=r.p+"static/media/logocarlos.0e012efb.png",le=function(){return Object($.jsx)("div",{className:" p-4 w-40 flex justify-center items-center",children:Object($.jsx)("img",{src:ie})})},de=function(e){var t=e.atributos,r=e.handleChange;return Object($.jsxs)("div",{className:"relative my-4",children:[Object($.jsx)("input",{onChange:r,className:" border-4 border-green-500 text-green-500 rounded-lg  font-semibold outline-none py-4 px-6 text-lg input_text fill-current",id:t.id,value:t.value,name:t.name,type:t.type,autoComplete:"off",onFocus:function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},placeholder:t.placeholder}),Object($.jsx)("label",{className:"absolute left-4 top-2 text-green-500 font-semibold text-lg cursor-text label_texto hidden ",htmlFor:t.id,children:t.titulo})]})},ue=function(e){return Object($.jsx)("p",{className:"text-red-500 text-xl cursor-pointer",children:e.texto})},be=function(e){var t=Object(a.useContext)(te),r=t.alerta,c=t.mostrarAlerta,n=Object(a.useContext)(K),s=n.mensaje,i=n.autenticado,l=n.iniciarSesion;Object(a.useEffect)((function(){i&&e.history.push("/tienda"),s&&c("error al iniciar")}),[s,i,e.history]);var d=Object(a.useState)({email:"",password:""}),u=Object(b.a)(d,2),j=u[0],x=u[1],m=j.email,p=j.password,f=function(e){x(Object(W.a)(Object(W.a)({},j),{},Object(oe.a)({},e.target.name,e.target.value)))};return Object($.jsxs)("div",{className:"bg-primario-green p-8 h-screen  flex justify-center flex-col items-center",children:[Object($.jsxs)("ul",{className:"flex justify-end absolute top-10 right-10",children:[Object($.jsxs)(o.b,{to:"/registro",className:"text-primario-green-pure text-base font-bold mx-4 hover:text-green-400",children:[" ","REGISTRARSE"," "]}),Object($.jsxs)(o.b,{to:"/",className:"text-green-800 text-base font-bold mx-4 hover:text-green-400",children:[" ","INICIO"," "]})]}),Object($.jsxs)("div",{className:"flex justify-center items-center flex-col bg-white w-96 px-6 py-6 rounded-lg shadow-xl",children:[r?Object($.jsx)("p",{className:"alerta ".concat(r.categoria),children:r.msg}):null,Object($.jsx)("div",{className:"contenedor-form sombra-dark"}),Object($.jsx)(le,{}),Object($.jsx)(de,{handleChange:f,atributos:{id:"email",name:"email",value:m,type:"email",placeholder:"correo electronico",titulo:"correo electronico"}}),Object($.jsx)(de,{handleChange:f,atributos:{id:"password",name:"password",value:p,type:"password",placeholder:"contrase\xf1a",titulo:"contrase\xf1a"}}),Object($.jsxs)(o.b,{to:"/",className:"text-primario-red my-4",children:[Object($.jsx)(ue,{texto:"olvide mi contrase\xf1a"})," "]}),Object($.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),console.log("onsubmit"),l({email:m,password:p})},className:"bg-blue-100 p-2 px-6 text-primario-blue rounded-md font-bold hover:bg-primario-blue hover:text-white my-2",children:"Iniciar Sesion"})]})]})},je=function(e){return Object($.jsx)("p",{className:"text-primario-blue font-medium text-lg",children:e.texto})},xe=function(e){var t=Object(a.useContext)(te),r=t.alerta,c=t.mostrarAlerta,n=Object(a.useContext)(K),s=n.mensaje,i=n.autenticado,l=n.registrarUsuario;Object(a.useEffect)((function(){i&&(e.history.push("/tienda"),console.log(j)),s&&c("error de registro","estilo bonito de error"),console.log("efect nueva cuenta")}),[s,i,e.history]);var d=Object(a.useState)({username:"",email:"",password:"",confirmar:""}),u=Object(b.a)(d,2),j=u[0],x=u[1],m=j.username,p=j.email,f=j.password,O=j.confirmar,h=function(e){x(Object(W.a)(Object(W.a)({},j),{},Object(oe.a)({},e.target.name,e.target.value)))};return Object($.jsxs)(a.Fragment,{children:[Object($.jsxs)("ul",{className:" flex justify-end m-8",children:[Object($.jsxs)(o.b,{to:"/",className:"text-green-800 text-base font-bold mx-4 hover:text-green-400",children:[" ","TENGO CUENTA"," "]}),Object($.jsxs)(o.b,{to:"/",className:"text-green-800 text-base font-bold mx-4 hover:text-green-400",children:[" ","INICIO"," "]})]}),Object($.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==m.trim()&&""!==p.trim()&&""!==f.trim()&&""!==O.trim()?f.length<6?c("El password debe contener al menos 6 caracteres","alerta-error"):f===O?(l({username:m,email:p,password:f}),console.log("registro exitoso")):c("las contrase\xf1as no son iguales","alerta-error"):c("Todos los campos son requeridos","alerta-error")},className:"flex flex-col items-center",children:[Object($.jsx)("div",{children:r?Object($.jsxs)("p",{className:"alerta ".concat(r.categoria),children:[" ",r.msg," "]}):null}),Object($.jsx)(le,{}),Object($.jsx)(de,{handleChange:h,atributos:{id:"username",name:"username",value:m,type:"text",placeholder:"nombre de usuario"}}),Object($.jsx)(de,{handleChange:h,atributos:{id:"email",name:"email",value:p,type:"email",placeholder:"correo electronico"}}),Object($.jsx)(de,{handleChange:h,atributos:{id:"password",name:"password",value:f,type:"password",placeholder:"contrase\xf1a"}}),Object($.jsx)(de,{handleChange:h,atributos:{id:"confirmar",name:"confirmar",value:O,type:"password",placeholder:"confirmar contrase\xf1a "}}),Object($.jsx)("button",{type:"submit",className:"bg-blue-100 p-2 px-6 text-blue-700 rounded-md font-bold hover:bg-blue-600 hover:text-white my-2",children:"Iniciar Sesion"})]})]})},me=Object(a.createContext)(),pe=Object(a.createContext)(),fe=function(e){return Object($.jsx)("button",{className:"bg-primario-blue-claro p-2 px-6 text-primario-blue rounded-md font-bold hover:bg-primario-blue hover:text-white z-10 ".concat(e.style?e.style:""),onClick:e.onBtn,children:e.texto})},Oe=function(e){return Object($.jsx)("h3",{className:"text-gray-900 text-xl font-bold ".concat(e.style?e.style:""),children:e.texto})},he=function(e){var t=e.producto,r=(Object(a.useContext)(ne).actualizarProductoSeleccionado,Object(a.useContext)(pe)),c=r.listas,n=r.listaseleccionada,s=r.agregarProductoEnLista,o=(r.guardarCambiosEnLista,Object(a.useContext)(te)),i=(o.alerta,o.mostrarAlerta),l=(t._id,t.nombre),d=t.precio_minoreo,u=t.medida_minoreo,j=t.imgURL,x=u;"kilo"===u&&(x="kg"),"unidad"===u&&(x="ud.");var m=Object(a.useState)(!1),p=Object(b.a)(m,2),f=p[0],O=p[1];return Object($.jsxs)("div",{className:"mb-3 mx-2 relative",children:[Object($.jsxs)("div",{className:"flex mt-1 mb-2 mx-2 relative",children:[Object($.jsx)("div",{className:"rounded-md w-20 h-12 bg-primario-green  flex items-center justify-center ",children:Object($.jsx)("img",{src:j,alt:"",className:""})}),Object($.jsxs)("div",{className:"shadow-lg bg-white rounded-md w-32 flex flex-col justify-around items-center ",children:[Object($.jsxs)("span",{className:" font-bold text-primario-green-pure ",children:[" ",l]}),Object($.jsxs)("p",{className:" text-primario-blue text-lg ",children:[" ",Object($.jsx)("span",{className:"font-medium",children:d})," S/"," ",Object($.jsx)("span",{className:"text-black",children:x})]})]})]}),Object($.jsx)("button",{onClick:function(e){e.stopPropagation(),O(!f)},className:" absolute top-0 w-full h-full outline-none focus:outline-none",children:f&&Object($.jsx)("span",{onClick:function(){console.log(c.length),0!==c.length?n?s(n,t):i("elija o crea una lista"):i("crea una lista de pedido para iniciar")},className:"border-2 border-primario-blue bg-primario-blue text-white font-bold px-4 py-2 rounded-md hover:text-blue-100",children:"ADD"})})]})},ge=function(e){var t=e.filtro1,r=e.filtro2,c=e.filtro3,n=e.filtro4,s=e.filtro5,o=e.texto1,i=e.texto2,l=e.texto3,d=e.texto4,u=e.texto5,j=Object(a.useState)("todos"),x=Object(b.a)(j,2),m=x[0],p=x[1],f=function(e){p(e.target.value)};return Object($.jsxs)("div",{className:" flex\r w-full  justify-center  flex-wrap",children:[Object($.jsxs)("label",{onClick:t,className:"hover:bg-primario-green cursor-pointer mx-4 p-2 rounded-md ".concat("todos"===m?"bg-primario-green shadow-sm text-green-700 font-semibold":""),children:[o,Object($.jsx)("input",{type:"radio",value:"todos",checked:"todos"===m,onChange:f,className:"hidden"})]}),Object($.jsxs)("label",{onClick:r,className:"hover:bg-primario-green cursor-pointer mx-4 p-2 rounded-md ".concat("agotados"===m?"bg-primario-green shadow-sm text-green-700 font-semibold":""),children:[i,Object($.jsx)("input",{type:"radio",value:"agotados",checked:"agotados"===m,onChange:f,className:"hidden"})]}),l&&Object($.jsxs)("label",{onClick:c,className:"hover:bg-primario-green cursor-pointer mx-4 p-2 rounded-md ".concat("vegetales"===m?"bg-primario-green shadow-sm text-green-700 font-semibold":""),children:[l,Object($.jsx)("input",{type:"radio",value:"vegetales",checked:"vegetales"===m,onChange:f,className:"hidden"})]}),d&&Object($.jsxs)("label",{onClick:n,className:"hover:bg-primario-green cursor-pointer mx-4 p-2 rounded-md ".concat("frutas"===m?"bg-primario-green shadow-sm text-green-700 font-semibold":""),children:[d,Object($.jsx)("input",{type:"radio",value:"frutas",checked:"frutas"===m,onChange:f,className:"hidden"})]}),u&&Object($.jsxs)("label",{onClick:s,className:"hover:bg-primario-green cursor-pointer mx-4 p-2 rounded-md ".concat("abarrotes"===m?"bg-primario-green shadow-sm text-green-700 font-semibold":""),children:[u,Object($.jsx)("input",{type:"radio",value:"abarrotes",checked:"abarrotes"===m,onChange:f,className:"hidden"})]})]})},ve=r(21),ye=function(e){return Object($.jsx)("span",{onClick:e.onIcon,className:"font-bold text-3xl text-gray-300 hover:text-primario-red cursor-pointer",children:Object($.jsx)(ve.b,{})})},Ne=r(17),we=function(e){return Object($.jsx)("span",{onClick:e.open,className:"font-bold  text-primario-green-semi flex flex-col ",children:Object($.jsx)(Ne.a,{})})},Ce=function(e){var t=e.producto,r=e.mostrarElemento,c=(e.elemento_actual,Object(a.useContext)(ne)),n=(c.productoseleccionado,c.obtenerProductoSeleccionado),s=Object(a.useContext)(pe),o=s.listaseleccionada,i=s.quitarProductoEnLista,l=s.actualizarCantidadProductoLista,d=(s.guardarCambiosEnLista,Object(a.useState)(o.cantidad_producto.find((function(e){return e.id===t._id})).cantidad_producto)),u=Object(b.a)(d,2),j=u[0],x=u[1],m=Object(a.useState)(),p=Object(b.a)(m,2),f=(p[0],p[1],Object(a.useState)({_id:t._id,nombre:t.nombre,peso_minoreo:t.peso_minoreo,precio_minoreo:t.precio_minoreo,medida_minoreo:t.medida_minoreo,categoria:t.categoria,peso_mayoreo:t.peso_mayoreo,medidada_mayoreo:t.medidada_mayoreo,precio_mayoreo:t.precio_mayoreo,stock:t.stock,imgURL:t.imgURL,cantidad_minima:t.cantidad_minima,total_producto:t.precio_minoreo*j})),O=Object(b.a)(f,2),h=O[0],g=(O[1],h._id),v=h.nombre,y=h.peso_minoreo,N=h.precio_minoreo,w=h.medida_minoreo,C=(h.categoria,h.peso_mayoreo,h.medidada_mayoreo,h.precio_mayoreo,h.stock),_=(h.imgURL,h.cantidad_minima,h.total_producto,Object(a.useState)(!1)),k=Object(b.a)(_,2),E=k[0],S=k[1];return Object($.jsx)("div",{className:"flex items-center flex-col w-full",children:Object($.jsxs)("div",{className:"flex items-center  w-full",children:[Object($.jsx)("div",{onClick:function(){n(g),r(C,w)},className:"mb-1 bg-white shadow-lg rounded-lg py-4 ml-6 mr-2  p-4  w-full relative  hover:bg-green-50 ".concat(j>C?"border-primario-red border-2":""),children:Object($.jsxs)("div",{className:"flex justify-between",children:[Object($.jsxs)("p",{className:"w-36 ",children:[" ",Object($.jsxs)("span",{className:"text-primario-blue",children:["x ",o&&Object($.jsx)("span",{children:j})]})," ",Object($.jsx)("span",{className:"font-bold",children:v})," "]})," ",Object($.jsxs)("p",{className:"w-24 ",children:[Object($.jsxs)("button",{disabled:E,onClick:function(e){e.stopPropagation(),function(){S(!0),setTimeout((function(){S(!1)}),100);var e=j;j>1&&(x(j-1),l(o,g,e-1))}(),r(C,w)},className:"inline-block mr-4 cursor-pointer",children:[" ",Object($.jsx)("span",{className:"bg-primario-green text-primario-green-semi font-bold py-0 px-3 rounded-lg ",children:Object($.jsx)("span",{className:"bg-primario-green-semi w-3 h-1.5 rounded-sm inline-block mb-1 "})})," "]}),Object($.jsx)("button",{disabled:E,onClick:function(){j<C&&(x(j+1),S(!0),setTimeout((function(){S(!1)}),100),l(o,g,1+j),r(C,w))},className:"bg-primario-green text-primario-green-semi font-bold py-1 px-2 rounded-lg inline-block cursor-pointer",children:Object($.jsx)(we,{})})]}),Object($.jsxs)("span",{children:[y," ","kilo"===w?"kg":"ud."]}),Object($.jsxs)("span",{children:["S/ ",N]}),Object($.jsxs)("span",{className:"text-primario-blue font-bold",children:["S/",(j*N).toFixed(1)]})]})}),Object($.jsx)(ye,{onIcon:function(){i(g)}})]})})},_e=function(e){var t=e.lista,r=e.closeCard,c=Object(a.useContext)(pe).listaActual,n=Object(a.useState)("text-blue-500"),s=Object(b.a)(n,2),o=s[0];s[1];return Object($.jsx)("button",{onClick:function(){c(t._id),r(!1)},className:"w-full block hover:bg-blue-500 hover:text-white  border border-blue-500 font-medium text-center cursor-pointer py-2 border-b-0 border-r-0 border-l-0  ".concat(o),children:Object($.jsx)("p",{className:"text-left ml-4",children:t.nombre.toLowerCase()})})},ke=function(e){return Object($.jsxs)("div",{className:" flex flex-col relative justify-center items-center",children:[Object($.jsx)("div",{className:"w-16 h-16  rounded-lg transform rotate-45 self-center absolute z-10 -top-px shadow-md border border-blue-500"}),Object($.jsxs)("div",{className:" border rounded-lg border-blue-500 w-64 relative z-40  shadow-md \r bg-white\r ",children:[Object($.jsx)("div",{className:"flex justify-center py-6 font-medium items-center ",children:Object($.jsx)(je,{texto:"Mis listas"})}),Object($.jsxs)("div",{className:" pb-4",children:[e.listas.map((function(t){return Object($.jsx)(_e,{lista:t,closeCard:e.closeCard},t._id)})),Object($.jsx)("span",{className:"w-full border-b border-blue-500 block"})]}),Object($.jsx)("div",{className:"flex justify-center items-end pb-4 ",onClick:e.openNewList,children:Object($.jsx)(fe,{onBtn:e.openNewList,texto:"NUEVO"})})]})]})},Ee=r(22),Se=function(){return Object($.jsx)("div",{className:"font-bold text-3xl text-blue-500",children:Object($.jsx)(Ee.b,{})})},Ae=function(e){return Object($.jsx)("div",{onClick:e.open,className:"font-bold text-3xl text-blue-500",children:Object($.jsx)(Ne.b,{})})},Ie=function(e){return Object($.jsx)(o.b,{to:e.url,className:"block hover:bg-blue-500 hover:text-white text-blue-500 border border-blue-500 font-bold text-center cursor-pointer py-2 border-b-0 border-r-0 border-l-0 ",children:e.texto})},Re=function(e){var t=e.usuario,r=e.cerrarSesion,a=e.abrirCard,c=e.cerrCard,n=Object(i.f)(),s=function(){r(),n.push("/")};return Object($.jsxs)("div",{className:" flex flex-col relative justify-center items-center",children:[Object($.jsx)("div",{className:"w-16 h-16  rounded-lg transform rotate-45 self-center absolute z-10 -top-px shadow-md border border-blue-500"}),Object($.jsxs)("div",{className:"border rounded-lg border-blue-500 w-64 relative z-40 shadow-md \r bg-white flex flex-col justify-between\r ",children:[Object($.jsx)("div",{className:"flex justify-center py-6 font-bold items-center ",children:Object($.jsx)(je,{texto:t.username.charAt(0).toUpperCase()+t.username.split(" ")[0].slice(1)})}),Object($.jsxs)("div",{className:"pb-4 ",children:[Object($.jsx)("button",{onClick:function(){c(!1),a(!0)},className:"block hover:bg-blue-500 hover:text-white text-blue-500 border border-blue-500 font-bold text-center cursor-pointer py-2 border-b-0 border-r-0 border-l-0 w-full",children:"Crear Lista"}),Object($.jsx)(Ie,{texto:"Mi cuenta",url:"/admin"}),Object($.jsx)("div",{className:" border-b border-blue-600 text-red-500",onClick:s,children:Object($.jsx)("button",{onClick:s,className:"block hover:bg-blue-500 hover:text-white text-blue-500 border border-blue-500 font-bold text-center cursor-pointer py-2 border-b-0 border-r-0 border-l-0 w-full",children:"Cerrar Sesion"})})]})]})]})},Le=function(e){var t=e.atributos,r=e.handleChange;return Object($.jsx)("input",{id:t.id,value:t.value,name:t.name,type:t.type,placeholder:t.placeholder,maxLength:t.txtmaximo,minLength:t.txtminimo,onChange:r,className:" border border-blue-500 text-blue-500 rounded-md  font-semibold outline-none p-2 w-full"})},Te=function(e){var t=e.cerrar,r=e.cerrar2,c=Object(a.useContext)(K).usuario,n=Object(a.useContext)(pe).crearLista,s=Object(a.useContext)(te),o=s.alerta,i=s.mostrarAlerta,l=Object(a.useState)(""),d=Object(b.a)(l,2),u=d[0],j=d[1];return Object($.jsxs)("div",{className:" flex flex-col relative justify-center items-center",children:[Object($.jsx)("div",{className:"w-16 h-16  rounded-lg transform rotate-45 self-center absolute z-10 -top-px shadow-md border border-primario-blue"}),Object($.jsxs)("div",{className:" border rounded-lg border-primario-blue w-64 relative z-40  shadow-md \r bg-white\r ",children:[Object($.jsxs)("div",{className:" pb-4 pt-4 px-2 flex justify-center flex-col",children:[o?Object($.jsx)("p",{className:"text-center text-primario-red",children:o.msg}):Object($.jsx)("p",{className:"text-center my-4 text-primario-blue font-medium",children:"Nueva Lista"}),Object($.jsx)(Le,{handleChange:function(e){j(e.target.value)},atributos:{id:"nombre",name:"nombre",value:u,type:"text",placeholder:"nombre de lista",txtmaximo:25,txtminimo:3}})]}),Object($.jsx)("div",{className:"flex justify-center items-end pb-4 ",children:Object($.jsx)(fe,{onBtn:function(){if(u.length<3)i("Se requiere 3 caracteres minimos");else{var e={nombre:u,creador:c._id,productos:[],cantidad_producto:[]};n(e),t(),r()}},texto:"CREAR"})})]})]})},De=function(e){var t=Object(a.useState)(!1),r=Object(b.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],u=Object(a.useState)(!1),j=Object(b.a)(u,2),x=j[0],m=j[1],p=Object(a.useContext)(K),f=p.usuario,O=p.token,h=p.cerrarSesion,g=Object(a.useContext)(pe),v=(g.listaseleccionada,g.guardarCambiosEnLista,g.obtenerListas,Object(a.useContext)(me)),y=(v.elemento,v.crearElemento);return Object($.jsxs)("div",{className:"flex justify-between shadow-md py-4 px-24 fixed top w-full top-0 bg-white z-40",children:[Object($.jsx)("div",{className:"self-center",children:Object($.jsx)("img",{src:"",alt:"",className:"w-12"})}),Object($.jsxs)("ul",{className:" self-center text-gray-700 flex text-xl bg-white",children:[2==O&&Object($.jsx)(o.b,{to:"/admin",className:"px-5 py-1 focus-within:text-green-600 relative",children:"Admin"}),Object($.jsx)(o.b,{to:"/home",className:"px-5 py-1 focus-within:text-green-600 relative",children:"Inicio"}),!f&&Object($.jsx)(o.b,{to:"/",className:"px-5 py-1 focus-within:text-green-600 relative",children:"Tienda"}),Object($.jsxs)("div",{className:" px-5 py-1 relative  flex justify-center bg-white",children:[Object($.jsx)("div",{onClick:function(e){e.preventDefault(),d(!l),m(!1),n(!1)},className:"cursor-pointer",children:Object($.jsx)(Se,{})}),l&&Object($.jsx)("div",{className:"absolute mt-12",children:Object($.jsx)(ke,{listas:e.listas,seleccionarLista:e.seleccionarLista,openNewList:function(e){m(!x),d(!1)},closeCard:d})}),x&&Object($.jsx)("div",{className:"absolute mt-12",children:Object($.jsx)(Te,{cerrar2:function(){},cerrar:m})}),v.elemento&&Object($.jsx)("div",{className:"absolute mt-12",children:Object($.jsx)(Te,{cerrar2:y,cerrar:m})})]}),Object($.jsxs)("div",{className:"relative px-5 py-1 flex justify-center",children:[O?Object($.jsx)(Ae,{open:function(e){e.preventDefault(),n(!c),m(!1),d(!1)}}):Object($.jsx)(o.b,{to:"/",children:"Iniciar"}),c&&Object($.jsx)("div",{className:"absolute mt-12",children:Object($.jsx)(Re,{usuario:f,cerrarSesion:h,abrirCard:m,cerrCard:n})})]})]})]})},Pe=function(e){return Object($.jsx)("button",{onClick:e.onBtn,className:"bg-primario-green py-4 px-16 text-primario-green-pure rounded-md font-bold hover:bg-primario-green-pure hover:text-primario-green focus:outline-none ".concat(e.style?e.style:""),children:e.texto})},Be=(r(73),function(){var e=Object(a.useContext)(K),t=(e.usuario,e.usuarioAutenticado),r=Object(a.useContext)(te),c=r.alerta,n=(r.card,r.abrirCard,r.mostrarAlerta,Object(a.useContext)(me)),s=n.elemento_actual,o=(n.elemento,n.mostrarElemento),l=n.crearElemento,j=Object(a.useContext)(ne),x=j.productos,m=j.obtenerProductos,p=j.obtenerporCategoria,f=Object(a.useContext)(pe),O=f.listas,h=f.listaseleccionada,g=f.obtenerListas,v=(f.crearLista,f.guardarCambiosEnLista),y=Object(i.f)(),N=Object(a.useState)(!1),w=Object(b.a)(N,2),C=w[0],_=w[1],k=Object(a.useState)(""),E=Object(b.a)(k,2),S=E[0],A=E[1],I=Object(a.useState)([]),R=Object(b.a)(I,2),L=R[0],T=R[1],D=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,A(t.target.value);case 3:P(),console.log(S);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=x.filter((function(e){if(e.nombre.includes(S))return e}));T(e)};return Object(a.useEffect)((function(){m(),t(),g()}),[]),Object($.jsxs)("div",{className:"mt-28",children:[Object($.jsx)(De,{listas:O}),Object($.jsxs)("div",{className:"flex justify-center",children:[Object($.jsxs)("div",{className:"medida50 relative",children:[Object($.jsx)(Oe,{texto:"Productos en Tienda",style:"text-center"}),Object($.jsxs)("div",{className:"flex flex-col items-center mx-10 mt-8  mb-28 ",children:[Object($.jsx)(ge,{texto1:"Vegetales",texto2:"Frutas",texto3:"Abarrotes",texto4:"",texto5:"",filtro1:function(){return p("601ecaad34bf2f55c7fbfd82")},filtro2:function(){return p("601ecaad34bf2f55c7fbfd83")},filtro3:function(){return p("601ecaad34bf2f55c7fbfd84")},filtro4:function(){},filtro5:function(){}}),Object($.jsx)("div",{id:"vista_productos",className:"flex flex-wrap justify-center mt-4 ",children:L.map((function(e){if(void 0===(h?h.productos:[]).find((function(t){return t._id===e._id})))return Object($.jsx)(he,{producto:e},e._id)}))}),Object($.jsx)("div",{id:"vista_productos",className:"flex flex-wrap justify-center mt-4 ",children:x.map((function(e){if(void 0===(h?h.productos:[]).find((function(t){return t._id===e._id})))return Object($.jsx)(he,{producto:e},e._id)}))}),O.length>0?Object($.jsxs)("div",{className:"fixed bottom-10 right-10 bg-red-100 z-40",children:[s&&Object($.jsxs)("p",{className:"absolute -top-28 right-4 w-36  text-center bg-primario-green py-2 px-2 text-green-900 text-sm rounded-md",children:["stock:"," ",Object($.jsx)("span",{className:"font-bold text-lg",children:s&&s.texto1})," ",s&&s.texto2]}),Object($.jsx)(fe,{onBtn:function(){v(h),y.push("/pedido")},texto:"Pedir Envio",style:"fixed bottom-12 right-12 shadow-xl z-0 bg-red-100 text-xl py-4"})]}):Object($.jsx)(fe,{onBtn:function(){l()},texto:"Crear Lista",style:" fixed bottom-12 right-12 shadow-xl z-0 bg-red-100 text-xl py-4"})]}),Object($.jsx)("div",{className:"fixed bottom-0 w-full  medida50 flex justify-center bg-white mt-20",children:Object($.jsx)(de,{atributos:{name:"buscar",placeholder:"Buscar Productos",id:"buscar",type:"text",value:S},handleChange:D})})]}),Object($.jsxs)("div",{className:" medida50 border-l-4 border-primario-green relative mb-32 ",children:[h?Object($.jsxs)("div",{children:[Object($.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[Object($.jsxs)("div",{className:"flex items-center mb-2  w-full justify-center",children:[Object($.jsx)(Oe,{texto:h.nombre,style:"text-center "}),"   ",h&&Object($.jsxs)("span",{className:"ml-4 text-primario-blue text-xl font-bold",children:[" ",h?h.cantidad_producto.reduce((function(e,t){var r=t.cantidad_producto,a=t.id;return e+r*h.productos.find((function(e){return e._id===a})).precio_minoreo}),0).toFixed(1):0," ","S/"]})]}),Object($.jsx)("button",{onClick:function(){_(!0),v(h),setTimeout((function(){_(!1)}),2e3)},className:" px-2 py-2 border-primario-green-semi border-4 rounded-lg text-center w-36 text-primario-green-semi font-bold no-underline outline-none focus:outline-none  ".concat(C?"bg-primario-green border-none":""),children:"Guardar Cambios"})]}),h.productos.length>0?Object($.jsx)("div",{className:"flex flex-col justify-center mt-4",children:h.productos.map((function(e){return Object($.jsx)(Ce,{mostrarElemento:o,elemento_actual:s,producto:e},e._id)}))}):Object($.jsxs)("p",{className:"text-primario-blue text-center marginporciento20 text-lg",children:["Lista Vacia, ",Object($.jsx)("br",{})," a\xf1ada productos"]})]}):Object($.jsx)(Oe,{texto:"Lista de Pedido",style:"text-center"}),O.length<1?Object($.jsxs)("p",{className:" text-center marginporciento20 text-lg ".concat(c?"text-primario-red":"text-primario-blue"),children:["Crea una"," ",Object($.jsx)("span",{className:"text-primario-red cursor-pointer",children:Object($.jsx)("span",{className:"".concat(c?"text-primario-blue":""),children:"nueva lista"})})," ",Object($.jsx)("br",{})," y a\xf1ada productos"]}):!h&&Object($.jsxs)("p",{className:" text-center marginporciento20 text-lg ".concat(c?"text-primario-red":"text-primario-blue"," "),children:["Seleccione una de sus listas ",Object($.jsx)("br",{})," y a\xf1ada productos"]})]})]})]})}),Ue=r(15),Me=function(e,t){switch(t.type){case I:return Object(W.a)(Object(W.a)({},e),{},{listas:t.payload});case R:return Object(W.a)(Object(W.a)({},e),{},{listas:[].concat(Object(Ue.a)(e.listas),[t.payload])});case L:var r=e.listas.filter((function(e){return e._id===t.payload}));return localStorage.setItem("lista_actual",JSON.stringify(r[0])),Object(W.a)(Object(W.a)({},e),{},{listaseleccionada:r[0]});case B:case D:return Object(W.a)(Object(W.a)({},e),{},{listaseleccionada:t.payload});case U:return Object(W.a)(Object(W.a)({},e),{},{listaseleccionada:Object(W.a)(Object(W.a)({},e.listaseleccionada),{},{cantidad_producto:t.payload})});case T:case M:return Object(W.a)(Object(W.a)({},e),{},{listas:t.payload});default:return e}},ze=function(e){var t=localStorage.getItem("lista_actual"),r=JSON.parse(t),c={listas:[],listaseleccionada:r||null},n=Object(a.useReducer)(Me,c),s=Object(b.a)(n,2),o=s[0],i=s[1],l=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/api/listas");case 3:t=e.sent,console.log(t),i({type:I,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i({type:P,payload:{msg:"Hubo un error",categoria:"alerta-error"}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("/api/listas",t);case 3:r=e.sent,i({type:R,payload:r.data}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),i({type:P,payload:{msg:"hubo un error al crear",categoria:"alerta-error"}});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("api/listas/".concat(t));case 3:204===e.sent.status&&(r=o.listas.filter((function(e){return e._id!==t})),i({type:T,payload:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({type:L,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(a=t).productos.map((function(e){return e._id})),void 0===c.find((function(e){return e===r._id}))){e.next=7;break}return e.abrupt("return");case 7:a.productos.unshift(r),a.cantidad_producto.unshift({id:r._id,cantidad_producto:1}),i({type:B,payload:a});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("esto aqui en guardar lista"),null!==t){e.next=5;break}return e.abrupt("return",console.log("no hay lista"));case 5:return r=t.productos.map((function(e){return e._id})),a={cantidad_producto:t.cantidad_producto,productos:r},e.prev=7,e.next=10,x.put("/api/listas/".concat(t._id),a);case 10:return c=e.sent,e.next=13,o.listas.filter((function(e){return e._id!==t._id}));case 13:n=e.sent,i({type:M,payload:[].concat(Object(Ue.a)(n),[c.data])}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0.response),t=o.listaseleccionada;case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(pe.Provider,{value:{listas:o.listas,listaseleccionada:o.listaseleccionada,obtenerListas:l,crearLista:j,listaActual:p,agregarProductoEnLista:f,quitarProductoEnLista:function(e){var t=o.listaseleccionada.productos.filter((function(t){return t._id!==e})),r=o.listaseleccionada.cantidad_producto.filter((function(t){return t.id!==e})),a=Object(W.a)(Object(W.a)({},o.listaseleccionada),{},{productos:t,cantidad_producto:r});console.log(a),i({type:D,payload:a})},actualizarCantidadProductoLista:function(e,t,r){var a={id:t,cantidad_producto:r},c=e.cantidad_producto.filter((function(e){return e.id!==t}));c.unshift(a),console.log(c),i({type:U,payload:c})},guardarCambiosEnLista:O,eliminarLista:m},children:e.children})},Fe=function(e,t){switch(t.type){case z:return{elemento_actual:t.payload};case F:return{elemento_actual:null};case G:return Object(W.a)(Object(W.a)({},e),{},{elemento:t.payload});case J:return Object(W.a)(Object(W.a)({},e),{},{deleteelement:t.payload});case V:return Object(W.a)(Object(W.a)({},e),{},{editarelemento:t.payload});default:return e}},Ge=function(e){var t=Object(a.useReducer)(Fe,{elemento_actual:null,elemento:!1,deleteelement:!1,editarelemento:!1}),r=Object(b.a)(t,2),c=r[0],n=r[1];return Object($.jsx)(me.Provider,{value:{elemento_actual:c.elemento_actual,elemento:c.elemento,deleteelement:c.deleteelement,editarelemento:c.editarelemento,mostrarElemento:function(e,t){n({type:z,payload:{texto1:e,texto2:t}}),setTimeout((function(){n({type:F})}),4e3)},crearElemento:function(){n({type:G,payload:!c.elemento})},eliminarElemento:function(){n({type:J,payload:!c.deleteelement})},editarElemento:function(){n({type:V,payload:!c.editarelemento})}},children:e.children})},Je=r(40),Ve=function(e){return Object($.jsx)("div",{className:"text-primario-blue cursor-pointer text-6xl hover:text-primario-blue ",children:Object($.jsx)(Je.a,{})})},qe=function(e){var t=Object(a.useState)(""),r=Object(b.a)(t,2),c=r[0],n=r[1],s=Object(i.f)(),o=function(e){n(e.target.value)};return Object($.jsx)("div",{className:"py-4 shadow-md flex-col items-center border justify-between w-72 h-screen z-20  bg-white fixed  ",children:Object($.jsxs)("div",{className:"flex flex-col items-center text-center px-8 ",children:[Object($.jsx)(le,{}),Object($.jsxs)("label",{onClick:function(){s.push("/admin/listas")},className:"cursor-pointer p-6 w-56 rounded-md text-4xl  ".concat("listas"===c?"bg-primario-green shadow-sm ":""),children:["Listas",Object($.jsx)("input",{type:"radio",value:"listas",checked:"listas"===c,onChange:o,className:"hidden"})]}),Object($.jsxs)("label",{onClick:function(){s.push("/admin/pedidos")},className:"cursor-pointer p-6 w-56 rounded-md text-4xl my-2 ".concat("pedidos"===c?"bg-primario-green shadow-sm ":""),children:["Pedidos",Object($.jsx)("input",{type:"radio",value:"pedidos",checked:"pedidos"===c,onChange:o,className:"hidden"})]}),Object($.jsxs)("label",{onClick:function(){s.push("/admin/reclamos")},className:"my-2 cursor-pointer mx-4 p-6 w-56 rounded-md text-4xl ".concat("reclamos"===c?"bg-primario-green shadow-sm ":""),children:["Reclamos",Object($.jsx)("input",{type:"radio",value:"reclamos",checked:"reclamos"===c,onChange:o,className:"hidden"})]}),Object($.jsxs)("label",{onClick:function(){s.push("/admin/cuenta")},className:"my-2 cursor-pointer mx-4 p-6 w-56 rounded-md text-4xl  ".concat("cuenta"===c?"bg-primario-green shadow-sm ":""),children:["Cuenta",Object($.jsx)("input",{type:"radio",value:"cuenta",checked:"cuenta"===c,onChange:o,className:"hidden"})]}),Object($.jsx)("div",{onClick:function(){s.push("/tienda"),s.go(0)},children:Object($.jsx)(Ve,{})})]})})},Xe=r(41),Ze=function(){return Object($.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex justify-center items-center mx-4 ",children:Object($.jsx)(Xe.a,{className:"text-red-500 text-2xl"})})},He=function(e){var t=e.accionCard,r=e.cerrarCard,c=e.atributos,n=e.children;return Object($.jsxs)(a.Fragment,{children:[Object($.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object($.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object($.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object($.jsx)(Ze,{})}),Object($.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object($.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:c.titulo}),Object($.jsx)("div",{className:"mt-2",children:n})]})]})}),Object($.jsxs)("div",{className:" px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse bg-white",children:[Object($.jsx)("button",{onClick:t,type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:c.accion}),Object($.jsx)("button",{onClick:function(){return r(!1)},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:c.cancelar})]})]})},Qe=function(e){var t=e.cerrar,r=Object(a.useContext)(K).usuario,c=Object(a.useContext)(pe).crearLista,n=Object(a.useContext)(te),s=n.alerta,o=n.mostrarAlerta,i=Object(a.useState)(""),l=Object(b.a)(i,2),d=l[0],u=l[1];return Object($.jsxs)("div",{className:" flex flex-col relative justify-center items-center",children:[Object($.jsxs)("div",{className:" border rounded-lg border-primario-blue w-64 relative z-40  shadow-md \r bg-white\r ",children:[Object($.jsxs)("div",{className:" pb-4 pt-4 px-2 flex justify-center flex-col",children:[s?Object($.jsx)("p",{className:"text-center text-primario-red",children:s.msg}):Object($.jsx)("p",{className:"text-center my-4 text-primario-blue font-medium text-xl",children:"Nueva Lista"}),Object($.jsx)(Le,{handleChange:function(e){u(e.target.value)},atributos:{id:"nombre",name:"nombre",value:d,type:"text",placeholder:"nombre de lista",txtmaximo:25,txtminimo:3}})]}),Object($.jsx)("div",{className:"flex justify-center items-end pb-4 ",children:Object($.jsx)(fe,{onBtn:function(){if(d.length<3)o("Se requiere 3 caracteres minimos");else{var e={nombre:d,creador:r._id,productos:[],cantidad_producto:[]};c(e),t()}},texto:"CREAR"})})]}),Object($.jsx)("div",{className:"w-16 h-16  rounded-lg transform rotate-45 self-center absolute z-10 bottom-0 shadow-md border border-primario-blue"})]})},Ke=function(e){var t=Object(i.f)();return Object($.jsxs)("div",{className:"flex items-center ",children:[Object($.jsxs)("div",{className:"w-full bg-white shadow-md rounded-lg p-4 my-1 flex justify-between px-20 hover:bg-primario-blue-claro cursor-pointer mr-4 border group",onClick:function(){},children:[Object($.jsx)("div",{className:"absolute top-2 "}),Object($.jsx)(je,{texto:e.textoA}),Object($.jsxs)("div",{className:"flex font-normal",children:[Object($.jsx)(je,{texto:e.textoB+" = "}),Object($.jsx)(je,{texto:e.textoC+" S/"})]}),Object($.jsx)(o.b,{onClick:function(){e.onItem(e.id)},to:"/admin/listas/".concat(e.id),className:"bg-primario-blue-claro text-primario-blue px-3 py-1 rounded-lg font-medium hover:text-white hover:bg-primario-blue border group-hover:border-primario-blue ",children:"ver"}),Object($.jsx)("span",{onClick:function(){e.onItem(e.id),t.push("/tienda"),t.go(0)},className:"bg-primario-blue-claro text-primario-blue px-3 py-1 rounded-lg font-medium hover:text-white hover:bg-primario-blue border group-hover:border-primario-blue ",children:"editar"})]}),Object($.jsx)(ye,{onIcon:function(){e.onItem(e.id),e.abrirCard(!0)}})]})},We=function(e){var t=e.children,r=e.style;return Object($.jsxs)("div",{className:"fixed  inset-0 overflow-y-auto flex justify-center items-center z-30",children:[Object($.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:Object($.jsx)("div",{className:"absolute inset-0 ".concat(r||"")})}),Object($.jsx)("div",{className:"inline-block align-bottom  rounded-lg text-left overflow-hidden shadow-xl transform transition-all ",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:t})]})},Ye=function(){var e=Object(a.useContext)(pe),t=e.listas,r=e.listaseleccionada,c=e.listaActual,n=e.eliminarLista,s=Object(a.useState)(!1),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(a.useState)(!1),u=Object(b.a)(d,2),j=u[0],x=u[1];return Object($.jsxs)("div",{className:" w-full",children:[Object($.jsx)(Oe,{texto:"Mis Listas"}),Object($.jsx)("div",{className:"mt-10",children:t.map((function(e){return Object($.jsx)(Ke,{id:e._id,abrirCard:l,onItem:c,lista:e,textoA:e.nombre,textoB:e.productos.length+" productos",textoC:e.cantidad_producto.reduce((function(t,r){var a=r.cantidad_producto,c=r.id;return t+a*e.productos.find((function(e){return e._id===c})).precio_minoreo}),0).toFixed(1)},e._id)}))}),Object($.jsx)("div",{className:"absolute bottom-12 right-16",children:Object($.jsx)(fe,{texto:"NUEVA LISTA",style:"p-4 px-8",onBtn:function(){x(!j)}})}),j&&Object($.jsx)("div",{className:"absolute bottom-32 right-4 ",children:Object($.jsx)(Qe,{cerrar:x})}),i&&Object($.jsx)(We,{style:"bg-gray-700 opacity-75 ",children:Object($.jsx)(He,{accionCard:function(){localStorage.removeItem("lista_actual"),n(r._id),l(!i)},cerrarCard:l,atributos:{titulo:"Eliminar Lista",accion:"eliminar",cancelar:"cancelar"},children:Object($.jsxs)("p",{children:["\xbfEstas seguro de eliminar esta lista? ",Object($.jsx)("br",{}),"Esta lista sera eliminado de la base de datos, ",Object($.jsx)("br",{})," esta accion es irreversible"]})})})]})},$e=function(e){return Object($.jsx)("p",{className:"text-gray-500 text-sm",children:e.texto})},et=function(e){return Object($.jsxs)("div",{className:"relative  hover:bg-red-200 flex justify-between py-4 pt-6 rounded-md px-12 bg-white shadow-lg text-xl border-t border-gray-200 my-2 cursor-pointer",children:[Object($.jsx)("div",{className:"absolute top-2",children:Object($.jsx)($e,{texto:e.textoC})}),Object($.jsx)(ue,{texto:e.textoA}),Object($.jsx)(ue,{texto:e.textoB})]})},tt=function(e){return Object($.jsxs)("div",{className:"relative  hover:bg-blue-200 flex justify-between py-4 pt-6 rounded-md px-12 bg-white shadow-lg text-xl border-t border-gray-200 my-2 cursor-pointer",children:[Object($.jsx)("div",{className:"absolute top-2",children:Object($.jsx)($e,{texto:e.textoC})}),Object($.jsx)(je,{texto:e.textoA}),Object($.jsx)(je,{texto:e.textoB})]})},rt=function(){return Object($.jsxs)("div",{className:"mx-20 my-16  w-full",children:[Object($.jsx)("div",{className:" flex justify-center",children:Object($.jsx)(ge,{texto1:"todos",texto2:"pedidos",texto3:"cancelados"})}),Object($.jsx)("div",{className:"mt-10",children:Object($.jsx)(Oe,{texto:"Mis Pedidos"})}),Object($.jsxs)("div",{className:"mt-5",children:[Object($.jsx)(tt,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"}),Object($.jsx)(tt,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"}),Object($.jsx)(tt,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"}),Object($.jsx)(tt,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"})]}),Object($.jsx)("div",{className:"mt-10",children:Object($.jsx)(Oe,{texto:"Cancelados"})}),Object($.jsxs)("div",{className:"mt-5",children:[Object($.jsx)(et,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"}),Object($.jsx)(et,{textoA:"Mis Vegetales",textoB:"s/ 14.50",textoC:"lunes 16 de noviembre 2021"})]})]})},at=function(e){return Object($.jsx)("button",{className:"bg-red-200 p-2 px-6 text-red-600 rounded-md font-bold hover:bg-red-600 hover:text-red-200",children:e.texto})},ct=function(e){return Object($.jsx)("p",{className:"text-gray-500 text-xl",children:e.texto})},nt=function(e){return Object($.jsxs)("div",{className:"relative  hover:bg-blue-200 flex justify-between py-4 rounded-md px-12 bg-white shadow-lg text-xl border-t border-gray-200 my-2 cursor-pointer",children:[Object($.jsx)(je,{texto:e.textoA}),Object($.jsx)(ct,{texto:e.textoB})]})},st=function(){return Object($.jsxs)("div",{className:"mx-20 my-16  w-full",children:[Object($.jsx)("div",{className:"mt-10",children:Object($.jsx)(Oe,{texto:"Mis Pedidos"})}),Object($.jsxs)("div",{className:"mt-5",children:[Object($.jsx)(nt,{textoA:"Me faltan productos",textoB:"lunes 16 de agosto - 2021"}),Object($.jsx)(nt,{textoA:"Me Cobraron Pasaje",textoB:"lunes 16 de agosto - 2021"}),Object($.jsx)(nt,{textoA:"Me faltan productos",textoB:"lunes 16 de agosto - 2021"}),Object($.jsx)(nt,{textoA:"Compre y nunca me lleg\xf3",textoB:"lunes 16 de agosto - 2021"})]}),Object($.jsx)("div",{className:"absolute bottom-12 right-12",children:Object($.jsx)(at,{texto:"Nuevo Reclamo"})})]})},ot=Object(a.createContext)(),it=function(e){return Object($.jsx)(Ne.a,{className:"".concat(e.stylos?e.stylos:"")})},lt=function(e){var t=e.atributos,r=e.handleChange;return Object($.jsx)("input",{className:"rounded-md bg-white shadow-sm border border-primario-blue w-full p-4 text-black text-xl outline-none",type:t.type,name:t.name,value:t.value,id:t.value,maxLength:t.maximo,minLength:t.minimo,placeholder:t.placeholder,onChange:r})},dt=function(e){return Object($.jsx)("button",{onClick:e.onBtn,className:"flex justify-center items-center  w-8 h-8 rounded-full bg-primario-red-transparente absolute top-6 right-6",children:Object($.jsx)("span",{className:"text-primario-red font-bold",children:e.texto})})},ut=function(e){var t=e.cerrarCard,r=e.setDireccion,c=Object(a.useContext)(me),n=c.crearElemento,s=c.eliminarElemento,o=c.editarElemento,i=Object(a.useContext)(ot).direccionactual,l=localStorage.getItem("usuario"),d=JSON.parse(l);return Object($.jsxs)("div",{className:" flex flex-col relative w-32 h-32 justify-center items-center ",children:[Object($.jsx)("div",{className:" bg-white w-16 h-16  rounded-lg transform rotate-45  absolute z-40 bottom-0 shadow-md border border-blue-500 "}),Object($.jsxs)("div",{className:"bg-white border rounded-lg border-blue-500 w-44 h-36 relative z-50  shadow-md py-6 px-8 flex  flex-col justify-around",children:[Object($.jsxs)("div",{onClick:function(){n(),t(!1)},className:"cursor-pointer",children:["+ ",Object($.jsx)("span",{className:"text-blue-500",children:" a\xf1adir"})]}),Object($.jsxs)("div",{onClick:function(){t(!1)},className:"cursor-pointer",children:["x"," ",Object($.jsxs)("span",{onClick:function(){t(!1),s()},className:"text-blue-500",children:[" ","eliminar"]})]}),Object($.jsxs)("div",{onClick:function(){t(!1),r({nombre:i.nombre,referencia:i.referencia,creador:d._id}),o()},children:["x ",Object($.jsx)("span",{className:"text-blue-500",children:" editar"})]})]})]})},bt=function(e){return Object($.jsx)(Ee.a,{onClick:e.onIcon,className:"text-gray-600 text-2xl"})},jt=function(e){var t=e.atributos,r=e.getDireccion,c=e.id,n=e.setDireccion,s=Object(a.useState)(!1),o=Object(b.a)(s,2),i=o[0],l=o[1];return Object($.jsxs)("div",{className:"w-full flex items-center pl-3 pr-10 py-2 justify-between",children:[Object($.jsxs)("p",{children:["Direccion: ",t.texto]}),Object($.jsxs)("div",{className:"cursor-pointer relative",children:[Object($.jsx)(bt,{onIcon:function(){r(c),l(!i)}}),i&&Object($.jsx)("div",{className:"absolute -top-40 -right-12",children:Object($.jsx)(ut,{setDireccion:n,cerrarCard:l})})]})]})},xt=function(){var e=Object(a.useContext)(K),t=(e.usuario,e.cerrarSesion,e.actualizarCuentaDeUsuario),r=e.eliminarCuentadeUsuario,c=Object(a.useContext)(ot),n=c.direcciones,s=c.direccionactual,o=(c.obtenerDirecciones,c.seleccionarDireccion),l=c.crearDireccionNueva,d=c.eliminarDireccion,u=c.actualizarDireccion,j=Object(a.useContext)(te),x=j.alerta,m=j.mostrarAlerta,p=Object(a.useContext)(me),f=p.elemento,O=p.crearElemento,h=p.deleteelement,g=p.editarelemento,v=p.editarElemento,y=p.eliminarElemento,N=(Object(i.f)(),localStorage.getItem("usuario")),w=JSON.parse(N),C=localStorage.getItem("direccion_actual"),_=(JSON.parse(C),Object(a.useState)({username:w.username,email:w.email,dni:w.dni,celular:w.celular})),k=Object(b.a)(_,2),E=k[0],S=k[1],A=E.username,I=E.email,R=E.dni,L=E.celular,T=Object(a.useState)({nombre:"",referencia:"",creador:w._id}),D=Object(b.a)(T,2),P=D[0],B=D[1],U=P.nombre,M=P.referencia,z=Object(a.useState)(!1),F=Object(b.a)(z,2),G=F[0],J=F[1],V=function(){J(!G)},q=function(e){e.preventDefault(),S(Object(W.a)(Object(W.a)({},E),{},Object(oe.a)({},e.target.name,e.target.value)))},X=function(e){e.preventDefault(),B(Object(W.a)(Object(W.a)({},P),{},Object(oe.a)({},e.target.name,e.target.value)))};return Object($.jsxs)("div",{className:"  w-full",children:[Object($.jsx)("div",{className:"",children:Object($.jsx)(Oe,{texto:"Mi Cuenta"})}),Object($.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-5",children:[Object($.jsxs)("div",{className:"col-start-1 col-end-3",children:[Object($.jsx)($e,{texto:"nombres"}),Object($.jsx)(lt,{atributos:{id:"username",name:"username",value:A,placeholder:"nombres",type:"text",minimo:5,maximo:50},handleChange:q})]}),Object($.jsxs)("div",{children:[Object($.jsx)($e,{texto:"celular"}),Object($.jsx)(lt,{atributos:{id:"celular",name:"celular",value:L,placeholder:"numero de celular",type:"text",minimo:4,maximo:9},handleChange:q})]}),Object($.jsxs)("div",{children:[Object($.jsx)($e,{texto:"correo"}),Object($.jsx)(lt,{atributos:{id:"email",name:"email",value:I,placeholder:"correo electronico",type:"text",minimo:10,maximo:40},handleChange:q})]}),Object($.jsxs)("div",{children:[Object($.jsx)($e,{texto:"dni"}),Object($.jsx)(lt,{atributos:{id:"dni",name:"dni",value:R,placeholder:"numero de dni",type:"text",minimo:6,maximo:10},handleChange:q})]}),Object($.jsx)("p",{className:"p-0 mt-4 col-span-full text-lg font-medium",children:"direcciones"}),n.length>0?Object($.jsx)("div",{className:"col-start-1 col-span-2 gap-5 grid grid-cols-1 ",children:n.map((function(e){return Object($.jsxs)("div",{className:"grid grid-cols-2 bg-white shadow-sm border p-4 rounded-lg",children:[Object($.jsx)("div",{className:"col-span-full  text-lg text-primario-blue",children:Object($.jsx)(jt,{atributos:{texto:e.nombre},getDireccion:o,id:e._id,setDireccion:B})}),Object($.jsxs)("p",{className:"col-span-full mx-3",children:["Referencia: ",e.referencia]})]},e._id)}))}):Object($.jsxs)("div",{className:" col-span-2 flex flex-col justify-center items-center",children:[Object($.jsx)("p",{className:"text-primario-blue",children:"no tienes ni una direccion registrada"}),Object($.jsx)("div",{onClick:function(){O()},className:"text-primario-blue text-3xl py-4 cursor-pointer hover:text-blue-800 ",children:Object($.jsx)(it,{})})]})]}),Object($.jsxs)("div",{className:" flex justify-between py-10",children:[Object($.jsx)("div",{onClick:V,children:Object($.jsx)(ue,{texto:"eliminar cuenta"})}),Object($.jsx)(fe,{onBtn:function(){t(w._id,E)},texto:"Guardar Cambios"})]}),G&&Object($.jsx)(We,{style:"bg-gray-700 ",children:Object($.jsx)(He,{atributos:{titulo:"Eliminar Cuenta",accion:"Eliminar",cancelar:"cancelar"},cerrarCard:V,accionCard:function(e){e.preventDefault(),r(w._id),J(!1)},children:Object($.jsxs)("p",{children:["Estas seguro de eliminar tu cuenta? ",Object($.jsx)("br",{})," perderas toda tu informacion registrada"," "]})})}),h&&Object($.jsx)(We,{style:"bg-gray-700 opacity-75 ",children:Object($.jsx)(He,{atributos:{titulo:"Eliminar direccion",accion:"Eliminar",cancelar:"Cancelar"},accionCard:function(e){e.preventDefault(),d(s._id),y()},cerrarCard:y,children:Object($.jsxs)("p",{children:["\xbfEstas seguro de eliminar esta direcicon? ",Object($.jsx)("br",{})," Estos datos son requeridos para para realizar tus pedidos"]})})}),f&&Object($.jsx)(We,{style:"bg-gray-700 opacity-75",children:Object($.jsxs)("div",{className:"grid grid-cols-2 bg-white p-8 w-full  relative",children:[Object($.jsxs)("div",{className:"col-span-full mb-4 w-96",children:[Object($.jsx)("p",{className:"font-semibold my-4",children:"Nueva Direccion"}),Object($.jsxs)("p",{className:"text-primario-red mb-2",children:[" ",x?x.msg:""]}),Object($.jsx)("input",{type:"text",name:"nombre",placeholder:"nombre de direccion",className:" bg-white shadow-md border-4 border-primario-blue w-full   text-xl flex items-center px-4 py-4 focus:outline-none text-primario-blue rounded-lg",onChange:X})]}),Object($.jsx)("div",{className:"col-span-full mb-4 w-96",children:Object($.jsx)("input",{type:"text",name:"referencia",placeholder:"referencia de direccion",className:" bg-white shadow-md border-4 border-primario-blue w-full   text-xl flex items-center px-4 py-4 focus:outline-none text-primario-blue rounded-lg",onChange:X})}),Object($.jsx)(dt,{onBtn:O,texto:"X"}),Object($.jsx)("div",{className:" "}),Object($.jsx)("div",{className:"flex justify-end",children:Object($.jsx)(fe,{onBtn:function(e){e.preventDefault(),U.length<5&&M.length<5?m("los campos deben tener minimo 5 caracteres"):(l(P),O())},texto:"CREAR"})})]})}),g&&Object($.jsx)(We,{style:"bg-gray-700 opacity-75",children:Object($.jsxs)("div",{className:"grid grid-cols-2 bg-white p-8 w-full  relative",children:[Object($.jsxs)("div",{className:"col-span-full mb-4 w-96",children:[Object($.jsx)("p",{className:"font-semibold my-4",children:"Editar Direccion"}),Object($.jsxs)("p",{className:"text-primario-red mb-2",children:[" ",x?x.msg:""]}),Object($.jsx)("input",{type:"text",name:"nombre",value:U,placeholder:"nombre de direccion",className:" bg-white shadow-md border-4 border-primario-blue w-full   text-xl flex items-center px-4 py-4 focus:outline-none text-primario-blue rounded-lg",onChange:X})]}),Object($.jsx)("div",{className:"col-span-full mb-4 w-96",children:Object($.jsx)("input",{type:"text",name:"referencia",value:M,placeholder:"referencia de direccion",className:" bg-white shadow-md border-4 border-primario-blue w-full   text-xl flex items-center px-4 py-4 focus:outline-none text-primario-blue rounded-lg",onChange:X})}),Object($.jsx)(dt,{onBtn:v,texto:"X"}),Object($.jsx)("div",{className:" "}),Object($.jsx)("div",{className:"flex justify-end",children:Object($.jsx)(fe,{onBtn:function(e){e.preventDefault(),u(s._id,P),v()},texto:"Guardar"})})]})})]})},mt=function(){var e=localStorage.getItem("lista_actual"),t=JSON.parse(e),r=t.nombre,a=t.productos,c=t.cantidad_producto;return Object($.jsxs)("div",{className:" mb-36",children:[Object($.jsx)(Oe,{texto:r,style:"text-center"}),a.length>0?Object($.jsx)("div",{className:"flex flex-col justify-center mt-4 w-full p-4",children:a.map((function(e){return Object($.jsxs)("div",{className:" w-full  bg-white mb-1 p-4 rounded-lg flex justify-between items-center border shadow-md hover:bg-primario-blue-claro",children:[Object($.jsx)("img",{src:e.imgURL,className:"w-10"}),Object($.jsxs)("p",{className:"w-36 ",children:[" ",Object($.jsxs)("span",{className:"text-primario-blue",children:["x"," ",Object($.jsx)("span",{children:c.find((function(t){return t.id===e._id})).cantidad_producto})]})," ",Object($.jsx)("span",{className:"font-bold",children:e.nombre})," "]})," ",Object($.jsxs)("span",{children:[e.peso_minoreo," ","kilo"===e.medida_minoreo?"kg ":"ud. "," "]}),Object($.jsxs)("span",{children:["S/ ",e.precio_minoreo]}),Object($.jsxs)("span",{className:"text-primario-blue font-bold",children:["S/"," ",(c.find((function(t){return t.id===e._id})).cantidad_producto*e.precio_minoreo).toFixed(1)]})]},e._id)}))}):Object($.jsxs)("p",{className:"text-primario-blue text-center marginporciento20 text-lg",children:["Lista Vacia, ",Object($.jsx)("br",{})," a\xf1ada productos"]}),Object($.jsxs)("div",{className:"fixed bottom-10 right-10  z-0   py-4 flex flex-col items-center ",children:[Object($.jsxs)("span",{className:"bg-primario-green p-2 px-6 rounded-lg text-lg font-semibold",children:[t.cantidad_producto.reduce((function(e,r){var a=r.cantidad_producto,c=r.id;return e+a*t.productos.find((function(e){return e._id===c})).precio_minoreo}),0).toFixed(1)," "," S/"]}),Object($.jsx)(fe,{onBtn:function(){},texto:"Hacer Pedido",style:"shadow-xl text-xl py-4 "})]})]})},pt=function(){var e=Object(a.useContext)(pe),t=(e.listas,e.obtenerListas),r=Object(a.useContext)(K).usuarioAutenticado,c=Object(a.useContext)(ot),n=(c.direcciones,c.obtenerDirecciones);return Object(a.useEffect)((function(){t(),r(),n()}),[]),Object($.jsx)(a.Fragment,{children:Object($.jsx)(o.a,{children:Object($.jsxs)("div",{className:"flex",children:[Object($.jsx)("div",{className:"w-72 ",children:Object($.jsx)(qe,{})}),Object($.jsx)("div",{className:"ml-36 mr-10  w-full mt-10 ",children:Object($.jsxs)(i.c,{children:[Object($.jsx)(i.a,{exact:!0,path:"/admin/listas",component:Ye}),Object($.jsx)(i.a,{path:"/admin/listas/:listaId",component:mt}),Object($.jsx)(i.a,{exact:!0,path:"/admin/pedidos",component:rt}),Object($.jsx)(i.a,{exact:!0,path:"/admin/reclamos",component:st}),Object($.jsx)(i.a,{exact:!0,path:"/admin/cuenta",component:xt})]})})]})})})},ft=function(e,t){switch(t.type){case q:return Object(W.a)(Object(W.a)({},e),{},{direcciones:t.payload});case Q:return localStorage.setItem("direccion_actual",JSON.stringify(t.payload)),Object(W.a)(Object(W.a)({},e),{},{direccionactual:t.payload});case H:return Object(W.a)(Object(W.a)({},e),{},{direcciones:[].concat(Object(Ue.a)(e.direcciones),[t.payload])});case X:return{direcciones:t.payload};case Z:return Object(W.a)(Object(W.a)({},e),{},{direcciones:t.payload});default:return e}},Ot=function(e){var t=localStorage.getItem("direccion_actual"),r=(JSON.parse(t),Object(a.useReducer)(ft,{direcciones:[],direccionactual:null})),c=Object(b.a)(r,2),n=c[0],s=c[1],o=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("api/direcciones");case 3:t=e.sent,s({type:q,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("api/direcciones",t);case 3:r=e.sent,console.log(r.data),s({type:H,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("/api/direcciones/".concat(t));case 3:r=e.sent,a=n.direcciones.filter((function(e){return e._id!==t})),200===r.status&&s({type:X,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.put("api/direcciones/".concat(t),r);case 3:a=e.sent,c=n.direcciones.filter((function(e){return e._id!==t})),s({type:Z,payload:[].concat(Object(Ue.a)(c),[a.data])}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}();return Object($.jsx)(ot.Provider,{value:{direcciones:n.direcciones,direccionactual:n.direccionactual,obtenerDirecciones:o,seleccionarDireccion:function(e){console.log(e);var t=n.direcciones.filter((function(t){return t._id===e}));console.log(t),s({type:Q,payload:t[0]})},crearDireccionNueva:i,eliminarDireccion:l,actualizarDireccion:j},children:e.children})},ht=function(){var e=Object(a.useContext)(K),t=(e.usuario,e.usuarioAutenticado),r=Object(a.useContext)(pe),c=r.listas,n=r.obtenerListas,s=Object(a.useContext)(ot),o=s.direcciones,i=s.obtenerDirecciones,l=Object(a.useState)(!1),d=Object(b.a)(l,2);d[0],d[1];return Object(a.useEffect)((function(){t(),i(),n()}),[]),Object($.jsxs)("div",{className:"flex items-center flex-col justify-center h-screen mb-10",children:[Object($.jsx)("h3",{className:"text-5xl  text-center my-20 text-primario-blue",children:"GENERAR PEDIDO"}),Object($.jsxs)("div",{className:" md:flex lg:flex  justify-center   mx-auto",children:[Object($.jsxs)("div",{className:"text-lg my-10 mx-10 lg: mr-10  flex flex-col justify-center items-center",children:[Object($.jsxs)("div",{className:" w-96",children:[Object($.jsx)(Oe,{texto:"CLIENTE"}),Object($.jsxs)("div",{className:"mb-4",children:[Object($.jsxs)("p",{className:"my-4",children:[Object($.jsxs)("span",{className:"font-bold tracking-wide text-gray-600",children:["nombre:"," "]}),Object($.jsx)("span",{className:"text-gray-700 tracking-widest",children:"Juan Alverto Medrano"})]}),Object($.jsxs)("p",{className:"my-4",children:[Object($.jsx)("span",{className:"font-bold text-gray-600",children:"dni: "}),Object($.jsx)("span",{className:"text-gray-700 lett tracking-widest",children:"20595485"})]}),Object($.jsxs)("p",{className:"my-4",children:[Object($.jsx)("span",{className:"font-bold text-gray-600",children:"celular: "}),Object($.jsx)("span",{className:"text-gray-700 tracking-widest",children:"999 999 999"})]}),Object($.jsxs)("p",{className:"my-4",children:[Object($.jsx)("span",{className:"font-bold text-gray-600",children:"email: "}),Object($.jsx)("span",{className:"text-gray-700 tracking-widest",children:"jaun231@gmail.com"})]})]})]}),Object($.jsx)("div",{className:"flex justify-center ",children:Object($.jsxs)("div",{children:[Object($.jsx)(Oe,{texto:"PEDIDO"}),Object($.jsx)("p",{className:"font-bold text-gray-600 mt-4",children:"lista seleccionada"}),Object($.jsx)("div",{className:"relative mb-4 ",children:Object($.jsx)("select",{className:"p-4 bg-primario-blue-claro text-primario-blue font-semibold focus:outline-none w-96 flex justify-center px-4 tracking-wide",children:c.map((function(e){return Object($.jsx)("option",{className:"p-4 bg-primario-blue-claro text-primario-blue font-semibold focus:outline-none w-96 flex justify-center px-4 tracking-wide",children:e.nombre})}))})}),Object($.jsx)("p",{className:"font-bold text-gray-600",children:"direccion seleccionada"}),Object($.jsx)("select",{className:"p-4 bg-primario-blue-claro text-primario-blue font-semibold focus:outline-none w-96 flex justify-center px-4 tracking-wide",children:o.map((function(e){return Object($.jsx)("option",{children:e.nombre})}))})]})})]}),Object($.jsx)("div",{className:" w-full flex justify-center  mb-5",children:Object($.jsxs)("div",{className:"w-80 border-2 border-primario-blue rounded-lg box-border  px-4  ",children:[Object($.jsx)(Oe,{texto:"SU PEDIDO",style:"text-center my-8 "}),Object($.jsx)("p",{className:"my-8  p-4 bg-primario-blue-claro text-primario-blue font-bold text-lg  w-72  justify-center tracking-wide rounded-lg  mx-auto flex",children:"Mi primer lista de Compras"}),Object($.jsxs)("div",{className:"mx-6",children:[Object($.jsxs)("p",{className:"my-10 flex justify-between ",children:[Object($.jsx)("span",{className:"text-gray-500 ",children:"SUB TOTAL: "}),Object($.jsx)("span",{className:"font-bold",children:"S/ 125.00 "})]}),Object($.jsxs)("p",{className:"my-10 flex justify-between ",children:[Object($.jsx)("span",{className:"text-gray-500 ",children:"ENVIO: "}),Object($.jsx)("span",{className:"font-bold",children:"GRATIS "})]}),Object($.jsxs)("p",{className:"mt-11  flex justify-between ",children:[Object($.jsx)("span",{className:"text-gray-500 ",children:"TOTAL: "}),Object($.jsx)("span",{className:"font-bold",children:"S/ 125.00 "})]})]}),Object($.jsx)("div",{className:"flex justify-center",children:Object($.jsx)(Pe,{texto:"GENERAR",style:"my-10 mx-auto"})})]})})]})]})},gt=localStorage.getItem("token");gt&&m(gt);var vt=function(){return Object($.jsx)(Ot,{children:Object($.jsx)(Ge,{children:Object($.jsx)(ae,{children:Object($.jsx)(ze,{children:Object($.jsx)(se,{children:Object($.jsx)(ee,{children:Object($.jsx)(o.a,{children:Object($.jsxs)(i.c,{children:[Object($.jsx)(i.a,{exact:!0,path:"/",component:be}),Object($.jsx)(i.a,{exact:!0,path:"/registro",component:xe}),Object($.jsx)(i.a,{path:"/tienda",component:Be}),Object($.jsx)(i.a,{path:"/admin",component:pt}),Object($.jsx)(i.a,{path:"/pedido",component:ht})]})})})})})})})})},yt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,80)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))};s.a.render(Object($.jsx)(c.a.StrictMode,{children:Object($.jsx)(vt,{})}),document.getElementById("root")),yt()}},[[79,1,2]]]);
//# sourceMappingURL=main.9bc879e8.chunk.js.map